#以下是每个附魔都应有的配置
basic:
  #可选，默认true
  enable: true
  #可选，默认空
  disable_worlds:
    - "world_nether"

  id: test
  name: "测试附魔"
  max_level: 2

#若无此项，则自动匹配到default rarity
rarity: 史诗
#若无此项，则自动匹配到“未定义”
targets:
  - 剑

#可无此项
limitations:
  #- "PAPI_EXPRESSION:%player_level%>=30"
  #- "PERMISSION:splendidenchants.enchant.test.use"
  - "CONFLICT_GROUP:原版增伤附魔"

#必须有此项
display:
  #若无format，自动跟从
  format:
    previous: "{default_previous}  §7{是否充能完毕}(§e{当前累计}§7/§a{击杀累计}§7)"
  description:
    general: "§7每击杀若干只怪物后，下一次攻击伤害增加"
    #若无specific，自动跟从general
    specific: "§7每击杀 §a{击杀累计} §7只生物后，下一次攻击伤害增加 §a{伤害增加百分比}%"

###以下是可选的其它配置
alternative:
  #默认为true
  grindstoneable: false
  #默认为100
  weight: 85
  #默认为false
  is_treasure: true
  #默认为false
  is_cursed: false
  #默认为true
  is_tradeable: false
  #默认为true
  is_discoverable: true
  #可选，默认跟从大配置中的默认

#可无此项
variables:
  #跟等级有关的
  leveled:
    击杀累计: 4-level
    伤害增加百分比: 15.0*level
  #跟玩家有关的
  player_related:
    等级: "%player_level%"
  #存储于物品上的数据 key=初始值
  #规范：key=附魔id_变量英文翻译
  #注意小写，空格由下划线代替
  modifiable:
    当前累计: test_current_total=0
    是否充能完毕: can_discharge=充能中
    #这里是初始值，应支持int、double、String等类型

#可无此项
mechanisms:
  listeners:
    kill:
      type: KILL
      chains:
        - "赋值::{当前累计}={当前累计}+1"
        - "条件::{当前累计}>={击杀累计}"
        - "赋值::{是否充能完毕}=充能完毕"
    attack:
      type: ATTACK
      #若无pirority，默认为HIGHEST
      priority: HIGHEST
      chains:
        - "条件::{当前累计}>={击杀累计}"
        - "赋值::{当前累计}=0"
        - "赋值::{是否充能完毕}=充能中"
        - "事件::设置伤害:{原伤害}*(1+{伤害增加百分比}/100)"
  tickers: #每秒做什么
    - ""